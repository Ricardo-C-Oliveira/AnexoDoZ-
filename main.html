<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
	<meta charset="utf-8">
	<title>Anexo do Zé</title>
	<link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Satisfy' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link href="./style.css" rel="stylesheet">
</head>

<body>
	<div class="col-md-3" id="Info" style="height: 100%, background-color: #16a085">
		<div id="sidebarLeft">
			<div class="sidebarContent">
				<div class="header" style="width:280px">
					<h2>Anexo</h2>
					<p id="of" class="subtitle fancy">
						<span>
							do
						</span>
					</p>
					<h2>Zé</h2>
				</div>
				<div class="form-inline" style="text-align:center">
					<div class="form-group">
						<b style="font-size: 18px">Vem de onde? </b>
						<select id="start" class="form-control" onchange="calcRoute();">
							<option value="-22.730726,-47.290775">Limeira</option>
							<option value="-22.758052,-47.314167">Americana</option>
							<option value="-22.770267,-47.239198">Campinas</option>
						</select>
					</div>
				</div>
				<div id="info">
				</div>
				<div id="footer">
					<p>
						<b>Se beber não dirija!</b>
					</p>
					<p>Made by <a href="mailto:oliveira.ricardo@hotmail.com">Ricardo Oliveira</a></p>
				</div>
			</div>
		</div>
	</div>

	<div class="col-md-9" id="map" style="height: 100%">
		<div id="map"></div>
	</div>


	<script>
		function initMap() {
			var directionsService = new google.maps.DirectionsService;
			var directionsDisplay = new google.maps.DirectionsRenderer;
			var map = new google.maps.Map(document.getElementById('map'), {
				zoom: 15,
				center: {
					lat: -22.743150,
					lng: -47.251732
				}
			});
			directionsDisplay.setMap(map);
			directionsDisplay.setPanel(document.getElementById('info'));

			var onChangeHandler = function() {
				calculateAndDisplayRoute(directionsService, directionsDisplay);
			};
			document.getElementById('start').addEventListener('change', onChangeHandler);
		}

		function calculateAndDisplayRoute(directionsService, directionsDisplay) {
			directionsService.route({
				origin: document.getElementById('start').value,
				destination: "-22.743150,-47.251732",
				travelMode: google.maps.TravelMode.DRIVING,
				language: "pt-BR"
			}, function(response, status) {
				if (status === google.maps.DirectionsStatus.OK) {
					directionsDisplay.setDirections(response);
				} else {
					window.alert('Directions request failed due to ' + status);
				}
			});
		}
	</script>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBHgRBIiYXmg4iPP-q4SxEuDWi_tpGmLHw&signed_in=true&callback=initMap&language=pt-BR" async defer></script>
</body>

</html>
